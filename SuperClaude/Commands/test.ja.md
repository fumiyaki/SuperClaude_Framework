---
name: test
description: "カバレッジ分析と自動品質レポートによるテスト実行"
category: utility
complexity: enhanced
mcp-servers: [playwright]
personas: [qa-specialist]
---

# /sc:test - テストと品質保証

## トリガー
- ユニット、統合、e2eテストのテスト実行リクエスト
- カバレッジ分析と品質ゲート検証の必要性
- 継続テストとウォッチモードのシナリオ
- テスト失敗分析とデバッグの要件

## 使用法
```
/sc:test [ターゲット] [--type unit|integration|e2e|all] [--coverage] [--watch] [--fix]
```

## 動作フロー
1. **発見**: ランナーパターンと規約を使用して利用可能なテストを分類
2. **設定**: 適切なテスト環境と実行パラメータを設定
3. **実行**: 監視とリアルタイム進捗追跡でテストを実行
4. **分析**: カバレッジレポートと失敗診断を生成
5. **報告**: 実行可能な推奨事項と品質メトリクスを提供

主要な動作:
- テストフレームワークと設定の自動検出
- メトリクス付き包括的カバレッジレポートの生成
- e2eブラウザテストのためのPlaywright MCP活性化
- インテリジェントテスト失敗分析の提供
- 開発用継続ウォッチモードのサポート

## MCP統合
- **Playwright MCP**: `--type e2e` ブラウザテストで自動活性化
- **QA Specialist Persona**: テスト分析と品質評価で活性化
- **拡張機能**: クロスブラウザテスト、ビジュアル検証、パフォーマンスメトリクス

## ツール連携
- **Bash**: テストランナー実行と環境管理
- **Glob**: テスト発見とファイルパターンマッチング
- **Grep**: 結果解析と失敗分析
- **Write**: カバレッジレポートとテストサマリー

## 主要パターン
- **テスト発見**: パターンベース分類 → 適切なランナー選択
- **カバレッジ分析**: 実行メトリクス → 包括的カバレッジレポート
- **E2Eテスト**: ブラウザ自動化 → クロスプラットフォーム検証
- **ウォッチモード**: ファイル監視 → 継続テスト実行

## 例

### 基本テスト実行
```
/sc:test
# 標準設定ですべてのテストを発見・実行
# 合否サマリーと基本カバレッジを生成
```

### ターゲットカバレッジ分析
```
/sc:test src/components --type unit --coverage
# 詳細カバレッジメトリクスによる特定ディレクトリのユニットテスト
```

### ブラウザテスト
```
/sc:test --type e2e
# 包括的ブラウザテストのためPlaywright MCPを活性化
# クロスブラウザ互換性とビジュアル検証
```

### 開発ウォッチモード
```
/sc:test --watch --fix
# 自動的な単純失敗修正を伴う継続テスト
# 開発中のリアルタイムフィードバック
```

## 境界

**実行すること:**
- プロジェクトの設定されたテストランナーを使用して既存テストスイートを実行
- カバレッジレポートと品質メトリクスを生成
- 実行可能推奨付きインテリジェントテスト失敗分析を提供

**実行しないこと:**
- テストケースを生成したりテストフレームワーク設定を変更
- 適切な設定なしで外部サービスが必要なテストを実行
- 明示的許可なしでテストファイルに破壊的変更を実行