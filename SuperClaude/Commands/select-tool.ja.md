---
name: select-tool
description: "複雑性スコアリングと操作分析に基づくインテリジェントMCPツール選択"
category: special
complexity: high
mcp-servers: [serena, morphllm]
personas: []
---

# /sc:select-tool - インテリジェントMCPツール選択

## トリガー
- SerenaとMorphllm間の最適MCPツール選択が必要な操作
- 複雑性分析と機能マッチングが必要なメタシステム決定
- パフォーマンス対精度のトレードオフが必要なツールルーティング決定
- インテリジェントツール機能評価が有益な操作

## 使用法
```
/sc:select-tool [操作] [--analyze] [--explain]
```

## 動作フロー
1. **解析**: 操作タイプ、スコープ、ファイル数、複雑性指標を分析
2. **スコア**: 様々な操作要因での多次元複雑性スコアリングを適用
3. **マッチ**: SerenaとMorphllm機能に対する操作要件を比較
4. **選択**: スコアリングマトリクスとパフォーマンス要件に基づく最適ツールを選択
5. **検証**: 選択精度を確認し信頼度メトリクスを提供

主要な動作:
- ファイル数、操作タイプ、言語、フレームワーク要件に基づく複雑性スコアリング
- 最適選択のための速度対精度トレードオフを評価するパフォーマンス評価
- 直接マッピングと閾値ベースルーティングルールを持つ決定論理マトリクス
- Serena（セマンティック操作）対Morphllm（パターン操作）のツール機能マッチング

## MCP統合
- **Serena MCP**: セマンティック操作、LSP機能、シンボルナビゲーション、プロジェクトコンテキストに最適
- **Morphllm MCP**: パターンベース編集、バルク変換、速度重視操作に最適
- **決定マトリクス**: 複雑性スコアリングと操作特性に基づくインテリジェントルーティング

## ツール連携
- **get_current_config**: ツール機能評価のためのシステム構成分析
- **execute_sketched_edit**: 選択精度のための操作テストと検証
- **Read/Grep**: 操作コンテキスト分析と複雑性要因識別
- **統合**: refactor、edit、implement、improveコマンドが使用する自動選択ロジック

## 主要パターン
- **直接マッピング**: シンボル操作 → Serena、パターン編集 → Morphllm、メモリ操作 → Serena
- **複雑性閾値**: スコア>0.6 → Serena、スコア<0.4 → Morphllm、0.4-0.6 → 機能ベース
- **パフォーマンストレードオフ**: 速度要件 → Morphllm、精度要件 → Serena
- **フォールバック戦略**: Serena → Morphllm → ネイティブツール劣化チェーン

## 例

### 複雑リファクタリング操作
```
/sc:select-tool "10ファイル全体で関数名を変更" --analyze
# 分析：高複雑性（複数ファイル、シンボル操作）
# 選択：Serena MCP（LSP機能、セマンティック理解）
```

### パターンベースバルク編集
```
/sc:select-tool "プロジェクト全体でconsole.logをlogger.infoに更新" --explain
# 分析：パターンベース変換、速度優先
# 選択：Morphllm MCP（パターンマッチング、バルク操作）
```

### メモリ管理操作
```
/sc:select-tool "プロジェクトコンテキストと発見を保存"
# 直接マッピング：メモリ操作 → Serena MCP
# 理由：プロジェクトコンテキストとセッション間永続化
```

## 境界

**実行すること:**
- 操作を分析しSerenaとMorphllm間の最適ツール選択を提供
- ファイル数、操作タイプ、要件に基づく複雑性スコアリングを適用
- >95%選択精度で100ms未満の決定時間を提供

**実行しないこと:**
- ユーザーが明確な優先順位を持つ場合の明示的ツール仕様を上書き
- 適切な複雑性分析と機能マッチングなしでツールを選択
- 利便性や速度のためにパフォーマンス要件を妥協