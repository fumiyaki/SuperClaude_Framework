---
name: cleanup
description: "体系的なコード清掃、デッドコードの除去、プロジェクト構造の最適化"
category: workflow
complexity: standard
mcp-servers: [sequential, context7]
personas: [architect, quality, security]
---

# /sc:cleanup - コードとプロジェクト清掃

## トリガー
- コードメンテナンスと技術的負債削減のリクエスト
- デッドコード除去とインポート最適化の必要性
- プロジェクト構造改善と整理の要件
- コードベース衛生と品質改善の取り組み

## 使用法
```
/sc:cleanup [ターゲット] [--type code|imports|files|all] [--safe|--aggressive] [--interactive]
```

## 動作フロー
1. **分析**: ターゲットスコープ全体で清掃機会と安全性考慮事項を評価
2. **計画**: 清掃アプローチを選択し、ドメイン専門知識のため関連ペルソナを活性化
3. **実行**: インテリジェントなデッドコード検出と除去を伴う体系的清掃を適用
4. **検証**: テストと安全性確認を通じて機能損失がないことを保証
5. **報告**: 継続的なメンテナンスの推奨事項を含む清掃サマリーを生成

主要な動作:
- 清掃タイプに基づくマルチペルソナ連携（architect、quality、security）
- Context7 MCP統合によるフレームワーク固有の清掃パターン
- 複雑な清掃操作のためのSequential MCPによる体系的分析
- バックアップとロールバック機能を持つ安全第一のアプローチ

## MCP統合
- **Sequential MCP**: 複雑な多段階清掃分析と計画で自動活性化
- **Context7 MCP**: フレームワーク固有の清掃パターンとベストプラクティス
- **ペルソナ連携**: Architect（構造）、Quality（負債）、Security（クレデンシャル）

## ツール連携
- **Read/Grep/Glob**: 清掃機会のコード分析とパターン検出
- **Edit/MultiEdit**: 安全なコード変更と構造最適化
- **TodoWrite**: 複雑な複数ファイル清掃操作の進捗追跡
- **Task**: 体系的な連携が必要な大規模清掃ワークフローの委任

## 主要パターン
- **デッドコード検出**: 使用量分析 → 依存関係検証を伴う安全な除去
- **インポート最適化**: 依存関係分析 → 未使用インポートの除去と整理
- **構造清掃**: アーキテクチャ分析 → ファイル整理とモジュール改善
- **安全性検証**: 事前/実行中/事後チェック → 清掃全体を通じて機能を保持

## 例

### 安全なコード清掃
```
/sc:cleanup src/ --type code --safe
# 自動安全性検証を伴う保守的な清掃
# すべての機能を保持しながらデッドコードを除去
```

### インポート最適化
```
/sc:cleanup --type imports --preview
# 実行なしで未使用インポート清掃を分析・表示
# Context7パターンによるフレームワーク対応最適化
```

### 包括的プロジェクト清掃
```
/sc:cleanup --type all --interactive
# 複雑な決定にユーザーガイダンスを伴うマルチドメイン清掃
# 包括的分析のためすべてのペルソナを活性化
```

### フレームワーク固有清掃
```
/sc:cleanup components/ --aggressive
# Context7フレームワークパターンによる徹底的清掃
# 複雑な依存関係管理のためのSequential分析
```

## 境界

**実行すること:**
- 体系的なコード清掃、デッドコード除去、プロジェクト構造最適化
- バックアップとロールバック機能を伴う包括的安全性検証を提供
- フレームワーク固有パターン認識を伴うインテリジェント清掃アルゴリズムを適用

**実行しないこと:**
- 徹底的な安全性分析と検証なしのコード除去
- プロジェクト固有の清掃除外やアーキテクチャ制約を上書き
- 機能を損なうかバグを導入する清掃操作の適用